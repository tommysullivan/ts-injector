<div ng-controller="TestResultsExplorerController" class="pageTitleArea">
    <div>
        <h2>Test Results Explorer</h2>
    </div>
    <div ng-if="!testResults">
        Loading...
    </div>
    <div class="light" style="margin-top: 10px;" ng-if="testResultsLoaded">
        <query-toolbar></query-toolbar>
        <div class="row" style="margin-top: 10px;">
            <div class="col-md-3">
                <div style="max-height: 500px; overflow: auto;">
                    <a ng-repeat="testResult in testResults" href="#/test-result-viewer/{{testResult.name}}">
                        <div style="margin-bottom: 1px;" class="blockLink testResult {{testResult.status()}}">
                            <p>Test Run {{testResult.status()}}</p>
                            <p ng-bind="testResult.modifiedTime | date:'h:mm a on EEEE, M/dd, yyyy'"></p>
                            <small>{{testResult.name}}</small>
                            <summary summary-model="testResult.featuresSummary()"></summary>
                        </div>
                    </a>
                </div>
            </div>
            <div class="col-md-6">
                <div class="chartArea">
                    <canvas height="100px;"
                        id="line"
                        class="chart chart-line"
                        chart-data="testResultStatusesOverTimeChart.data"
                        chart-labels="testResultStatusesOverTimeChart.labels"
                        chart-legend="true"
                        chart-series="testResultStatusesOverTimeChart.series"
                        chart-click="testResultStatusesOverTimeChart.onClick"
                        chart-colours="testResultStatusesOverTimeChart.colours"
                    >
                    </canvas>
                    <h4 class="text-center">total number of features passed, failed, etc. over consecutive test runs</h4>
                </div>
            </div>
            <div class="col-md-3">
                <div class="chartArea">
                    <canvas class="chart chart-pie"
                            chart-data="summaryPieChart.data"
                            chart-labels="summaryPieChart.labels"
                            chart-legend="true"
                            chart-colours="summaryPieChart.colours"
                    ></canvas>
                    <h4 class="text-center">total number of features over time, colored by status</h4>
                    <summary summary-model="aggregateSummary"></summary>
                </div>
            </div>
        </div>
    </div>
</div>