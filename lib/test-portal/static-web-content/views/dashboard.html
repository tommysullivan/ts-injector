<div ng-controller="DashboardCtrl">
    <div ng-if="!testResults">
        Loading...
    </div>
    <div class="light" style="margin-top: 10px;" ng-if="testResultsLoaded">

        <div style="display:block;">
            <query-toolbar></query-toolbar>
        </div>

        <nav class="action-bar">
           <ul class="nav" style="display:inline-block;">
               <li style="display:inline-block;"><a ng-click="onDisplayTab('grid')">Grid</a></li>
               <li style="display:inline-block;"><a ng-click="onDisplayTab('list')">List</a></li>
           </ul>
        </nav>
        <div class="tab-container">
        <div class="row tab-grid">
            <div class="col-md-2 dash-column">
                <div style="max-height: 500px; overflow: auto;">
                    <a ng-repeat="testResult in testResults" href="#/test-result-viewer/{{testResult.name}}">
                        <div style="margin-bottom: 1px;" class="blockLink testResult {{testResult.status()}}">
                            <p>Test Run {{testResult.status()}}</p>
                            <p ng-bind="testResult.modifiedTime | date:'h:mm a on EEEE, M/dd, yyyy'"></p>
                            <small>{{testResult.name}}</small>
                            <summary summary-model="testResult.featuresSummary()"></summary>
                        </div>
                    </a>
                </div>
            </div>
            <div class="col-md-6 dash-column">
                <stackedbarchart chartdata="testResultStatusesOverTimeChart"
                                 chartid="'stacked-bar-chart'"/>
            </div>
            <div class="col-md-4 dash-column">
                <pie3dchart chartdata="summaryPieChart"
                            chartid="'summary-chart'"/>
            </div>
        </div>
        <div class="row tab-list">
            <table class="table">
                <tbody>
                <tr style="padding: 2px;" class="blockLink testResult {{testResult.status()}}" ng-repeat="testResult in testResults" href="#/test-result-viewer/{{testResult.name}}">

                    <td> <div>
                        <p>Test Run {{testResult.status()}}</p>
                        <p ng-bind="testResult.modifiedTime | date:'h:mm a on EEEE, M/dd, yyyy'"></p>
                        <small>{{testResult.name}}</small>
                    </div></td>
                    <td>
                        <summary summary-model="testResult.featuresSummary()"></summary>
                    </td>
                </tr>
                </tbody>
                </table>
        </div>
    </div>

</div>

